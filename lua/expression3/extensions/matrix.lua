--[[
	*****************************************************************************************************************************************************
		Quick math access
	*****************************************************************************************************************************************************
]]--
																--[ Author: ComposerFreak ]--
	local math = math
	local deg2rad = math.pi / 180
	local rad2deg = 180 / math.pi
	local sqrt = math.sqrt
	local acos = math.acos
	local asin = math.asin
	local atan2 = math.atan2
	local abs = math.abs
	local cos = math.cos
	local sin = math.sin
	local exp = math.exp
	local log = math.log
	local clamp = math.Clamp

--[[
	*****************************************************************************************************************************************************
		Create a new extension
	*****************************************************************************************************************************************************
]]--

	local extension = EXPR_LIB.RegisterExtension("matrix");

--[[
	*****************************************************************************************************************************************************
		Register Matrix2 class
	*****************************************************************************************************************************************************
]]--
	
	matrix2 = {}
	matrix2.__index = matrix2

	local function Matrix2(x,y,x2,y2)									--|  x , y  |--
																		--|		    |--	
		return setmetatable({x = x,  y = y, x2 = x2, y2 = y2}, matrix) 	--| x2 , y2 |--
																			
	end

	local function isMatrix2(m2)

		return istable(m2) and #m2 == 4 and m2.x and m2.y and m2.x2 and m2.y2

	end

	extension:RegisterClass("mx2", "matrix2", isMatrix2, EXPR_LIB.NOTNIL)

	extension:RegisterConstructor("mx2", "", Matrix2, true)

--[[
	*****************************************************************************************************************************************************
	 	Matrix2 Global Funcs
	*****************************************************************************************************************************************************
]]--

	local function clone(m2)
		local temp = {}

		for k, v in ipairs(m2) do
			temp[k] = v
		end

		return temp
	end

	local function detm2(m2)
		return ( m2.x * m2.y2 - m2.x2 * m2.y )
	end
	
	local function inversem2(m2)
		local det = ( m2.x * m2.y2 - m2.x2 * m2.y )

		if det == 0 then return Matrix2(0,0,0,0) end
		
		return Matrix2( (m2.y2 / det), (-m2.y / det), (-m2.x2 / det), (m2.x /det) )
	end

--[[
	*****************************************************************************************************************************************************
		Matrix2 Operations
	*****************************************************************************************************************************************************
]]--



--[[
	*****************************************************************************************************************************************************
		Matrix2 Functions
	*****************************************************************************************************************************************************
]]--



--[[-------------------------------------------------------------------------------------------------------------------------------------------------]]--
--[[|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||]]--
--[[-------------------------------------------------------------------------------------------------------------------------------------------------]]--



--[[
	*****************************************************************************************************************************************************
		Register Matrix class
	*****************************************************************************************************************************************************
]]--



--[[
	*****************************************************************************************************************************************************
	 	Matrix Global Funcs
	*****************************************************************************************************************************************************
]]--



--[[
	*****************************************************************************************************************************************************
		Matrix Operations
	*****************************************************************************************************************************************************
]]--



--[[
	*****************************************************************************************************************************************************
		Matrix Functions
	*****************************************************************************************************************************************************
]]--



--[[-------------------------------------------------------------------------------------------------------------------------------------------------]]--
--[[|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||]]--
--[[-------------------------------------------------------------------------------------------------------------------------------------------------]]--



--[[
	*****************************************************************************************************************************************************
		Register Matrix4 class
	*****************************************************************************************************************************************************
]]--



--[[
	*****************************************************************************************************************************************************
	 	Matrix4 Global Funcs
	*****************************************************************************************************************************************************
]]--



--[[
	*****************************************************************************************************************************************************
		Matrix4 Operations
	*****************************************************************************************************************************************************
]]--



--[[
	*****************************************************************************************************************************************************
		Matrix4 Functions
	*****************************************************************************************************************************************************
]]--



--[[-------------------------------------------------------------------------------------------------------------------------------------------------]]--
--[[||||||||||||||||||||||||||||||||||||||||||	E  N  D     O  F    E  X  T  E  N  S  I  O  N  ||||||||||||||||||||||||||||||||||||||||||||||||||||||]]--
--[[-------------------------------------------------------------------------------------------------------------------------------------------------]]--

extension:EnableExtension();